@using Microsoft.AspNetCore.Mvc.ModelBinding
@{
    var modelState = ViewContext.ModelState;
}
@model MaPremiereAppMVC.Models.ModelViews.AuthLoginForm

@if(!modelState.IsValid){
    <div class="alert alert-danger">
        <p>Il y a dans ce formulaire : @modelState.ErrorCount erreur(s)</p>
        <dl>
            @foreach (KeyValuePair<string, ModelStateEntry> errors in modelState)
            {
                @if(errors.Value.Errors.Count > 0){
                    <dt>@errors.Key :</dt>
                    <dd>
                        <ul>
                        @foreach (ModelError error in errors.Value.Errors)
                        {
                            <li>@error.ErrorMessage</li>
                        }
                        </ul>
                    </dd>
                }
            }
        </dl>
    </div>
}

<form method="post" asp-action="Login" >
    <div>
        <label asp-for="Username"></label>
        <input asp-for="Username" type="text" placeholder="Popol93"/>
    </div>
    <div>
        <label asp-for="Password"></label>
        <input asp-for="Password" type="password" placeholder="*********"/>
    </div>
    <div>
        <input type="submit" value="Se connecter" />
    </div>
</form>


